CREATE TABLE "unidad_academica" (
  "un_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "un_nombre" varchar NOT NULL
);

CREATE TABLE "facultades" (
  "fa_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "un_id" integer NOT NULL,
  "fa_nombre" varchar NOT NULL
);

CREATE TABLE "carreras" (
  "ca_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "fa_id" integer NOT NULL,
  "ca_nombre" varchar NOT NULL
);

CREATE TABLE "niveles" (
  "ni_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "ca_id" integer NOT NULL,
  "ni_nivel" varchar NOT NULL
);

CREATE TABLE "asignaturas" (
  "as_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "ni_id" integer NOT NULL,
  "as_nombre" varchar NOT NULL
);

CREATE TABLE "profesor_asignatura" (
  "prof_asig" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "prof_id" integer NOT NULL,
  "as_id" integer NOT NULL
);

CREATE TABLE "profesor" (
  "pr_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "pr_nombre" varchar NOT NULL,
  "pr_apellido" varchar NOT NULL
);

CREATE TABLE "roles" (
  "ro_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "ro_nombre" varchar
);

CREATE TABLE "roles_profesor" (
  "ro_pr_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "ro_id" integer NOT NULL,
  "pr_id" integer NOT NULL
);

CREATE TABLE "estudiante_asignatura" (
  "est_as_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "est_id" integer NOT NULL,
  "as_id" integer NOT NULL
);

CREATE TABLE "estudiante" (
  "est_id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "est_name" varchar NOT NULL,
  "est_surname" varchar NOT NULL
);

ALTER TABLE "facultades" ADD FOREIGN KEY ("un_id") REFERENCES "unidad_academica" ("un_id");

ALTER TABLE "carreras" ADD FOREIGN KEY ("fa_id") REFERENCES "facultades" ("fa_id");

ALTER TABLE "niveles" ADD FOREIGN KEY ("ca_id") REFERENCES "carreras" ("ca_id");

ALTER TABLE "asignaturas" ADD FOREIGN KEY ("ni_id") REFERENCES "niveles" ("ni_id");

ALTER TABLE "profesor_asignatura" ADD FOREIGN KEY ("as_id") REFERENCES "asignaturas" ("as_id");

ALTER TABLE "estudiante_asignatura" ADD FOREIGN KEY ("as_id") REFERENCES "asignaturas" ("as_id");

ALTER TABLE "profesor_asignatura" ADD FOREIGN KEY ("prof_id") REFERENCES "profesor" ("pr_id");

ALTER TABLE "estudiante_asignatura" ADD FOREIGN KEY ("est_id") REFERENCES "estudiante" ("est_id");

ALTER TABLE "roles_profesor" ADD FOREIGN KEY ("pr_id") REFERENCES "profesor" ("pr_id");

ALTER TABLE "roles_profesor" ADD FOREIGN KEY ("ro_id") REFERENCES "roles" ("ro_id");


-- INSERTS


INSERT INTO public.asignaturas VALUES (1, 1, 'Lógica de programación');
INSERT INTO public.asignaturas VALUES (2, 1, 'Introducción a la ingeniería en software');
INSERT INTO public.asignaturas VALUES (3, 1, 'Algebra');
INSERT INTO public.asignaturas VALUES (4, 1, 'Calculo');
INSERT INTO public.asignaturas VALUES (5, 1, 'Física');
INSERT INTO public.asignaturas VALUES (6, 2, 'POO');


INSERT INTO public.carreras VALUES (5, 5, 'Ingeniería de Software');
INSERT INTO public.carreras VALUES (6, 5, 'Ingeniería Industrial');
INSERT INTO public.carreras VALUES (7, 5, 'Ingeniería de Electrica');
INSERT INTO public.carreras VALUES (8, 5, 'Ingeniería en Telecominucaciones');


INSERT INTO public.estudiante VALUES (1, 'Ana', 'Vega');
INSERT INTO public.estudiante VALUES (2, 'Pedro', 'Lopez');
INSERT INTO public.estudiante VALUES (3, 'María', 'Ruiz');


INSERT INTO public.estudiante_asignatura VALUES (1, 1, 1);
INSERT INTO public.estudiante_asignatura VALUES (2, 2, 2);
INSERT INTO public.estudiante_asignatura VALUES (3, 3, 3);
INSERT INTO public.estudiante_asignatura VALUES (4, 1, 6);


INSERT INTO public.facultades VALUES (5, 1, 'FICA');
INSERT INTO public.facultades VALUES (6, 1, 'FICAYA');
INSERT INTO public.facultades VALUES (7, 1, 'FCSSS');
INSERT INTO public.facultades VALUES (8, 1, 'FECYT');


INSERT INTO public.niveles VALUES (1, 5, 'Nivel 1');
INSERT INTO public.niveles VALUES (2, 5, 'Nivel 2');
INSERT INTO public.niveles VALUES (3, 5, 'Nivel 3');
INSERT INTO public.niveles VALUES (4, 5, 'Nivel 4');
INSERT INTO public.niveles VALUES (5, 5, 'Nivel 5');


INSERT INTO public.profesor VALUES (1, 'Juan', 'Pérez');
INSERT INTO public.profesor VALUES (2, 'Laura', 'González');
INSERT INTO public.profesor VALUES (3, 'Carlos', 'Martínez');


INSERT INTO public.profesor_asignatura VALUES (1, 1, 1);
INSERT INTO public.profesor_asignatura VALUES (2, 2, 2);
INSERT INTO public.profesor_asignatura VALUES (3, 3, 3);


INSERT INTO public.roles VALUES (4, 'Decano');
INSERT INTO public.roles VALUES (5, 'Subdecano');
INSERT INTO public.roles VALUES (6, 'Profesor');
INSERT INTO public.roles VALUES (7, 'Profesor suplente');


INSERT INTO public.roles_profesor VALUES (4, 5, 1);
INSERT INTO public.roles_profesor VALUES (5, 6, 1);
INSERT INTO public.roles_profesor VALUES (6, 4, 2);


INSERT INTO public.unidad_academica VALUES (1, 'UNIDAD ACADÉMICA');

